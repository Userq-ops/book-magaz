<!DOCTYPE html>
<html>
<head>
	<title>Онлайн-магазин книг</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600&display=swap" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="">
    <style>
        * {
	box-sizing: border-box;
	margin: 0;
	padding: 0;
}

body {
	font-family: 'Quicksand', sans-serif;
    min-height: 100vh;
    flex-direction: column;
    display: flex;
    background-color: #fdf5e6;
}

header {
	background-color: #ff7d7d;
	color: #fff;
	padding: 20px 20px 0px 20px;
}

nav ul {
	list-style: none;
	display: flex;
}

nav li {
	margin-right: 20px;
}

nav a {
	color: #fff;
	text-decoration: none;
}

nav a:hover {
	color: #ffd2d2;
	text-decoration: none;
}

main {  
	justify-content: space-around;
	padding: 20px;
    flex-grow: 1;
}

/* div {
    background-color: white;
    border: 1px solid black;
} */


.book {
	width: 300px;
    margin-bottom: 20px;    
    display: inline-block;
    margin: auto;
    background-color: white;
    border: 1px solid rgb(255, 216, 216);
}

.book img {
	width: 200px;
    padding-top: 20px;
}

.book h2 {
	margin-top: 10px;
	font-size: 24px;
}

.book p {
	margin-top: 10px;
	font-size: 16px;
}

.book button {
	margin-top: 10px;
	background-color: #bf4747;
	color: #fff;
	border: none;
	padding: 10px 20px;
	border-radius: 5px;
	cursor: pointer;
    transition: 0.3s;
    margin-bottom: 20px;
}

.book button:hover {
	background-color: #5d0000;
}

footer {
	background-color: #1e1e1e;
	color: #000000;
	padding: 20px;
	text-align: center;
}

/* Стили для модального окна */
.modal {
	display: none;
	position: fixed;
	z-index: 1;
	left: 0;
	top: 0;
	width: 100%;
	height: 100%;
	overflow: auto;
	background-color: rgba(0,0,0,0.4);
}

.modal-content {
	background-color: #fff;
	margin: 10% auto;
	padding: 20px;
	border: 1px solid #888;
	width: 80%;
}

.close {
	color: #aaa;
	float: right;
	font-size: 28px;
	font-weight: bold;
}

.close:hover,
.close:focus {
	color: black;
	text-decoration: none;
	cursor: pointer;
}

table {
	width: 100%;
	border-collapse: collapse;
    font-family: 'Quicksand', sans-serif;
}

h1 {
    text-align: center;
    position: relative;
    bottom: 10px;
}

th, td {
	padding: 8px;
	text-align: left;
	border-bottom: 1px solid #ddd;
}

th {
	background-color: #f2f2f2;
}

tfoot td {
	font-weight: bold;
}

tfoot button {
	background-color: #333;
	color: #fff;
	border: none;
	padding: 10px 20px;
	border-radius: 5px;
	cursor: pointer;
}

tfoot button:hover {
	background-color: #555;
}

.search {
    position: relative;  /* Change from absolute to relative */
    float: right;    /* Add margin-top to create space */
    bottom: 15px;
}


#notification {
    text-align: center;
    position: relative;
    bottom: 10px;
}

@media only screen and (max-width: 768px) {
    .search {
        position: absolute;
        left: 50%;   
        transform: translateX(-50%);  
        top: 20px;
    }
}
    </style>
</head>
<body>
	<header>
		<h1>Bookie</h1>
        <div id="notification"></div>
		<nav>
			<ul>
				<li><a href="#comics" onclick="navigateTo('manga')">Манги</a></li>
				<li><a href="#about" onclick="navigateTo('comics')">Комиксы</a></li>
				<li><a href="#services" onclick="navigateTo('astronomy')">Астрономия</a></li>
				<li><a href="#contact" onclick="navigateTo('horror')">Ужасы</a></li>
				<li><a href="#" id="cart-button">Корзина</a></li>
			</ul>
		</nav>
        <div class="search">
            <label for="search-input">Поиск книг: </label>
            <input style="border: none;" type="text" id="search-input" oninput="searchBooks()">
        </div>
	</header>
        <section style="display:flex; text-align: center; margin: 20px; padding-bottom: 100px;" id="manga">
            <div class="book">
                <img src="https://cdn.f.kz/prod/2121/2120420_550.jpg">
                <h2>Naruto</h2>
                <p>Азбука, Графические романы</p>
                <button class="add-to-cart" data-id="1" data-name="Naruto" data-price="4292">4292₸</button>
            </div>
            <div class="book">
                <img src="https://cdn.f.kz/prod/2253/2252104_550.jpg">
                <h2>One Piece</h2>
                <p>Азбука, Графические романы</p>
                <button class="add-to-cart" data-id="2" data-name="One Piece" data-price="4304">4304₸</button>
            </div>
            <div class="book">
                <img src="https://pm1.aminoapps.com/7497/a7ada152638f8a5b9100cfa2162afb10bfa452e7r1-682-1024v2_uhq.jpg">
                <h2>Kimetsu no yaiba</h2>
                <p>Азбука, Графические романы</p>
                <button class="add-to-cart" data-id="3" data-name="Kimetsu no yaiba" data-price="5408" >5408₸</button>
            </div>
          </section>


          <section style="display:flex; text-align: center; margin: 20px; padding-bottom: 100px;" id="comics">
            <div class="book">
                <img src="https://cdn.f.kz/prod/2099/2098641_550.jpg">
                <h2>Spider-Man</h2>
                <p>Комильфо, Эксмо, Marvel. Альтернатива</p>
                <button class="add-to-cart" data-id="1" data-name="Spider-Man" data-price="1220">1220₸</button>
            </div>
            <div class="book">
                <img src="https://cdn.f.kz/prod/2380/2379215_550.jpg">
                <h2>Avengers</h2>
                <p>Эксмо, Marvel. Альтернатива</p>
                <button class="add-to-cart" data-id="2" data-name="Avengers" data-price="1144 ">1144₸</button>
            </div>
            <div class="book">
                <img src="https://cdn.f.kz/prod/2099/2098462_550.jpg">
                <h2>Venom</h2>
                <p>Комильфо, Эксмо, Marvel. Альтернатива</p>
                <button class="add-to-cart" data-id="3" data-name="Venom" data-price="1140">1140₸</button>
            </div>
          </section>
        

          <section style="display:flex; text-align: center; margin: 20px; padding-bottom: 100px;" id="astronomy">
            <div class="book">
                <img src="https://cdn.f.kz/prod/2658/2657013_550.jpg">
                <h2>Космос для не космонавтов</h2>
                <p>АСТ, История и наука Рунета. Подарочное издание</p>
                <button class="add-to-cart" data-id="1" data-name="Космос для не космонавтов" data-price="3025">3025₸</button>
            </div>
            <div class="book">
                <img src="https://cdn.f.kz/prod/1990/1989073_550.jpg">
                <h2>Космос. Большое путешествие по Вселенной</h2>
                <p>Эксмо, Подарочные издания. Миссия «Космос»</p>
                <button class="add-to-cart" data-id="2" data-name="Космос. Большое путешествие по Вселенной" data-price="15616">15616₸</button>
            </div>
            <div class="book">
                <img src="https://cdn.f.kz/prod/2428/2427786_550.jpg">
                <h2>Философия космоса и пятое измерение</h2>
                <p>АСТ, История и наука Рунета. Подарочное издание</p>
                <button class="add-to-cart" data-id="3" data-name="Книга 3" data-price="3299">3299₸</button>
            </div>
          </section>


          <section style="display:flex; text-align: center; margin: 20px; padding-bottom: 100px;" id="horror">
            <div class="book">
                <img src="https://cdn.f.kz/prod/2409/2408276_550.jpg">
                <h2>Оно</h2>
                <p>АСТ, Эксклюзивная классика</p>
                <button class="add-to-cart" data-id="1" data-name="Оно" data-price="1800">1800₸</button>
            </div>
            <div class="book">
                <img src="https://cdn.f.kz/prod/1313/1312852_550.jpg">
                <h2>Сияние</h2>
                <p>АСТ, Эксклюзивная классика</p>
                <button class="add-to-cart" data-id="2" data-name="Сияние" data-price="1356">1356₸</button>
            </div>
            <div class="book">
                <img src="https://cdn.f.kz/prod/1596/1595865_550.jpg">
                <h2>Кэрри</h2>
                <p>АСТ, Эксклюзивная классика</p>
                <button class="add-to-cart" data-id="3" data-name="Кэрри" data-price="1035">1035₸</button>
            </div>
          </section>
	<footer>
		<p>© 2023 Bookie</p>
	</footer>
	<div id="cart-modal" class="modal">
		<div class="modal-content">
			<span class="close">&times;</span>
			<h2>Корзина</h2>
			<table>
				<thead>
					<tr>
						<th>Выбрать</th>
						<th>Название</th>
						<th>Цена</th>
					</tr>
				</thead>
				<tbody id="cart-items">
				</tbody>
				<tfoot>
					<tr>
						<td colspan="3">
							<button id="remove-selected">Удалить выбранные</button>
						</td>
					</tr>
					<tr>
						<td>Итого:</td>
						<td colspan="2" id="cart-total"></td>
					</tr>
				</tfoot>
			</table>
		</div>
	</div>
	<script>

        // Код для добавления товаров в корзину
const addToCartButtons = document.querySelectorAll('.add-to-cart');
const cartButton = document.getElementById('cart-button');
const cartModal = document.getElementById('cart-modal');
const cartItems = document.getElementById('cart-items');
const cartTotal = document.getElementById('cart-total');
const cartClose = document.querySelector('.close');
const removeSelectedButton = document.getElementById('remove-selected');

let cart = [];


cartButton.addEventListener('click', () => {
	cartModal.style.display = 'block';
});

cartClose.addEventListener('click', () => {
	cartModal.style.display = 'none';
});

window.addEventListener('click', (event) => {
	if (event.target == cartModal) {
		cartModal.style.display = 'none';
	}
});

removeSelectedButton.addEventListener('click', () => {
	const checkboxes = document.querySelectorAll('.select-item:checked');

	checkboxes.forEach(checkbox => {
		const id = checkbox.dataset.id;
		cart = cart.filter(item => item.id !== id);
	});

	updateCart();
});

function updateCart() {
	cartItems.innerHTML = '';

	let total = 0;

	cart.forEach(item => {
		const row = document.createElement('tr');
		const selectCell = document.createElement('td');
		const nameCell = document.createElement('td');
		const priceCell = document.createElement('td');

		const checkbox = document.createElement('input');
		checkbox.type = 'checkbox';
		checkbox.className = 'select-item';
		checkbox.dataset.id = item.id;

		selectCell.appendChild(checkbox);
		nameCell.textContent = item.name;
		priceCell.textContent = item.price;

		row.appendChild(selectCell);
		row.appendChild(nameCell);
		row.appendChild(priceCell);

		cartItems.appendChild(row);

		total += parseInt(item.price);
	});

	cartTotal.textContent = total;
}





// НАвигационная кнопка
function navigateTo(sectionId) {
      // Hide all sections
      document.querySelectorAll('section').forEach(function(section) {
        section.style.display = 'none';
      });

      // Show the selected section
      document.getElementById(sectionId).style.display = 'block';
    }








    // Поисковик
    function searchBooks() {
        const searchInput = document.getElementById('search-input').value.toLowerCase();

        // Перебирайте книги и отображайте только те, которые соответствуют поисковому запросу
        document.querySelectorAll('.book').forEach(function(book) {
            const bookName = book.querySelector('h2').textContent.toLowerCase();

            // Сравнивайте значение поиска с названием книги
            if (bookName.includes(searchInput)) {
                book.style.display = 'inline-block';
            } else {
                book.style.display = 'none';
            }
        });
    }








 addToCartButtons.forEach(button => {
        button.addEventListener('click', () => {
            const id = button.dataset.id;
            const name = button.dataset.name;
            const price = button.dataset.price;

            const item = {
                id: id,
                name: name,
                price: price
            };

            cart.push(item);

            updateCart();

            // Заменен код для отображения уведомления
            const notification = document.getElementById('notification');
            notification.textContent = `Товар "${name}" добавлен в корзину!`;

            // Очистка уведомления через 3 секунды (можете изменить это значение)
            setTimeout(() => {
                notification.textContent = '';
            }, 3000);
        });
    });
    </script>
</body>
</html>
